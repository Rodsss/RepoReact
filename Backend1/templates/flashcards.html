{% extends "base.html" %}

{% block title %}Flashcards Dashboard - 1Project{% endblock %}

{% block content %}
    <h1 class="content-title">Flashcards & Stacks</h1>

    <!-- New Section for Bulk Import -->
    <div class="container" id="import-form-area-container" style="background-color: #2c2f33; border: 1px solid #4a4e54; margin-bottom: 20px;">
        <h2>Bulk Import to New Stack</h2>
        <div class="form-group">
            <label for="import-stack-name">New Stack Name:</label>
            <input type="text" id="import-stack-name" placeholder="e.g., German Vocabulary Chapter 1">
        </div>
        <div class="form-group">
            <label for="import-data-textarea">Paste Data Here:</label>
            <textarea id="import-data-textarea" rows="10" placeholder="One item per line. e.g.:&#10;Hallo,Hello&#10;Welt,World"></textarea>
        </div>
        <div class="form-group">
            <label for="import-delimiter-select">Delimiter (separates front/back):</label>
            <select id="import-delimiter-select">
                <option value="comma">Comma (,)</option>
                <option value="tab">Tab</option>
                <option value="newline">Newline (Front only cards)</option>
            </select>
        </div>
        <button id="submit-import-btn">Create Stack From List</button>
    </div>
    
    <div class="dashboard-container">
        <!-- Left Pane: Stack Management -->
        <div class="dashboard-pane pane-left">
            <div id="stacks-management-area-integrated">
                <h2>My Stacks</h2>
                <div class="form-group">
                    <label for="new-stack-name-integrated">Create New Stack:</label>
                    <input type="text" id="new-stack-name-integrated" placeholder="Enter new stack name">
                    <button id="create-stack-btn-integrated">Create</button>
                </div>
                <ul id="stacks-list-integrated">
                    <p id="loading-stacks-message-integrated">Loading...</p>
                </ul>
            </div>
        </div>
        <!-- Middle Pane: Flashcard Review & Creation -->
        <div class="dashboard-pane pane-middle">
            <div id="flashcard-review-area-integrated">
                <h2 id="current-stack-name-header-integrated">Review: <span>Select a stack</span></h2>
                <div id="flashcard-display-integrated">
                    <p><em>Select a stack from the left to view and review its flashcards.</em></p>
                </div>
                <div id="review-controls-integrated" style="margin-top: 10px;"></div>
                <div id="add-flashcard-form-area-integrated" style="display:none;">
                    <h3>Add New Flashcard to "<span id="add-to-stack-name"></span>"</h3>
                    <div class="form-group">
                        <label for="new-flashcard-front-integrated">Front:</label>
                        <input type="text" id="new-flashcard-front-integrated" placeholder="Front text">
                    </div>
                    <div class="form-group">
                        <label for="new-flashcard-back-integrated">Back:</label>
                        <textarea id="new-flashcard-back-integrated" placeholder="Back text"></textarea>
                    </div>
                    <button id="save-new-flashcard-btn-integrated">Save Card</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block body_scripts %}
    <script src="/static/js/flashcard_app.js"></script>
{% endblock %}